<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<!-- ---------------------------- Ver Viaje ----------------------------- -->
<!--hr>

<body>
    <h2>Get Viaje</h2>
    <ul>
        <li *ngFor="let viaje of viajes">
            {{ viaje.idviaje }} - {{ viaje.fecha_partida }} - {{viaje.fecha_regreso}} - {{viaje.cupo}} -
            {{ viaje.descripcion }} - {{ viaje.idestado }} - {{ viaje.origen }} - {{ viaje.destino }}
        </li>
    </ul>
</body>
<hr>
 -------------------------- Eliminar Viajes -------------------------- -->
<!--h2>Delete Viaje</h2>
<div *ngFor="let viaje of viajes">
    <h4>{{ viaje.idviaje }}</h4>
    <p>{{ viaje.cupo }}</p>
    <button (click)="deleteViaje(viaje.idviaje)">Eliminar</button>
</div>
<hr -->
<!-- ---------------------------- Crear Viaje ---------------------------- -->
<h1> Crear Viaje</h1>
<hr>
<button type="reset" class="btn btn-outline-primary" (click)="limpiarFormulario()">Limpiar formulario</button>

<form (ngSubmit)="crearViaje()" >
    <div class="mb-3 form-group">
        <label class="form-label">fecha_partida: *</label>
        <input type="date" [(ngModel)]="nuevoViaje.fecha_partida" [ngModelOptions]="{standalone:true}" placeholder="fecha_partida" required>
    </div>
    <div class="mb-3 form-group">
        <label class="form-label">fecha_regreso *</label>
        <input type="date" [(ngModel)]="nuevoViaje.fecha_regreso" [ngModelOptions]="{standalone:true}"placeholder="fecha_regreso" required>
    </div>
    <div class="mb-3 form-group">
        <label class="form-label">cupo: *</label>
        <input type="text" class="form-control" [(ngModel)]="nuevoViaje.cupo" [ngModelOptions]="{standalone:true}"
            required>
    </div>
    <div class="mb-3 form-group">
        <label class="form-label">descripcion: *</label>
        <input type="text" class="form-control" [(ngModel)]="nuevoViaje.descripcion" [ngModelOptions]="{standalone:true}"
            required>
        </div>
    <div class="mb-3 form-group">
        <label class="form-label">idestado: *</label>
        <input type="idestado" class="form-control" [(ngModel)]="nuevoViaje.idestado" [ngModelOptions]="{standalone:true}"
            required>
    </div>
    <div class="mb-3 form-group">
        <label class="form-label">origen: *</label>
        <select class="form-select" id="origenid"[(ngModel)]="nuevoViaje.origen" name="origen">
                <option *ngFor="let lugar of lugares" [value] ="lugar.nombre"> {{lugar.nombre}} </option>
            </select> 
            </div>


    <div class="mb-3 form-group">
        <label class="form-label">destino: *</label>
        <select class="form-select" id="destinoid"[(ngModel)]="nuevoViaje.origen" name="destino">
            <option *ngFor="let lugar of lugares" [value] ="lugar.nombre"> {{lugar.nombre}} </option>
        </select> 
        </div>

<!--<input type="destino" class="form-control" [(ngModel)]="nuevoViaje.destino" [ngModelOptions]="{standalone:true}"
            required>
        </div>
        <button type="submit" class="btn btn-outline-success float-end">Guardar</button>
</form>
<br> 


<h1>Crear Viaje</h1>
<br>
<br>
<form (ngSubmit)="crearViaje()" >

    <br>
    <br>
    <h5>Fecha de partida</h5>
    <input type="date" [(ngModel)]="nuevoViaje.fecha_partida" [ngModelOptions]="{standalone:true}" placeholder="fecha_partida" required>
    <br>
    <br>
    <h5>Fecha del Regreso</h5>
    <input type="date" [(ngModel)]="nuevoViaje.fecha_regreso" [ngModelOptions]="{standalone:true}" placeholder="fecha_regreso" required>
    <br>
    <br>
   
    <input type="text" [(ngModel)]="nuevoViaje.cupo" [ngModelOptions]="{standalone:true}" placeholder="cupo" required>
    <br>
    <br>
  
    <input type="text" [(ngModel)]="nuevoViaje.descripcion" [ngModelOptions]="{standalone:true}" placeholder="descripcion" required>

    <br>
    <br>

    <div class="mb-3">
        <label for="exampleFormControlInput1" class="form-label">Origen</label>
        <select class="form-select" id="origenid" [(ngModel)]="nuevoViaje.origen" name="Origen">
          <option *ngFor="let lugar of lugares" [value]="lugar.nombre">{{lugar.nombre}}</option>
      </select>
        </div>

        <br>
         <br>
         <div class="mb-3">
            <label for="exampleFormControlInput1" class="form-label">Destino</label>
            <select class="form-select" id="destinoid" [(ngModel)]="nuevoViaje.destino" name="Destino">
              <option *ngFor="let lugar of lugares" [value]="lugar.nombre">{{lugar.nombre}}</option>
          </select>
            </div>

            <button  type="submit" class="btn btn-outline-primary float-end"> Guardar </button>
</form> -->

<table class="table">
    <thead>
        <tr>
            <th scope="col">idviaje</th>
            <th scope="col">fecha_partida</th>
            <th scope="col">fecha_regreso</th>
            <th scope="col">Cupo</th>
            <th scope="col">Descripcion</th>
            <th scope="col">IdEstado</th>
            <th scope="col">Origen</th>
            <th scope="col">Destino</th>
        </tr>
    </thead>
    <tbody>
        <tr *ngFor="let viaje of viajes">
            <th scope="row">{{viaje.idviaje}}</th>
            <td>{{viaje.fecha_partida}}</td>
            <td>{{viaje.fecha_regreso}}</td>
            <td>{{viaje.cupo}}</td>
            <td>{{viaje.descripcion}}</td>
            <td>{{viaje.idestado}}</td>
            <td>{{viaje.origen}}</td>
            <td>{{viaje.destino}}</td>
            <td><button class="btn btn-outline-primary" (click)="modificar(viaje)">Modificar</button>
                &nbsp;
                <button class="btn btn-outline-warning" (click)="eliminar(viaje.idviaje)">Eliminar</button>
            </td>
        </tr>

    </tbody>
</table>



<button type="submit" class="btn btn-outline-success float-end">
    <a href="/bienvenida">Regresar</a>
</button>
